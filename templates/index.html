<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üïµÔ∏è Dee Encryptor/Decryptor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      text-align: center;
      padding: 20px;
    }
    h1 { font-size: clamp(1.5rem, 4vw, 2.5rem); margin-bottom: 10px; }
    h3 { margin-top: 25px; }
    textarea {
      width: 90%; max-width: 600px;
      height: 120px; margin: 10px;
      border-radius: 10px; padding: 12px;
      font-size: 1rem; background: #222;
      color: #eee; border: 1px solid #444;
    }
    button {
      margin: 12px; padding: 14px 28px;
      font-size: 1rem; border-radius: 50px;
      border: none; cursor: pointer;
      background: linear-gradient(45deg, #0f62fe, #42a5f5, #1de9b6);
      color: white; font-weight: bold;
      box-shadow: 0 0 10px rgba(15,98,254,0.5);
      transition: transform 0.2s;
    }
    button:hover { transform: scale(1.05); }
    input[type=file] { margin: 15px 0; }
    pre {
      background: #222; padding: 12px;
      border-radius: 8px; width: 90%; max-width: 600px;
      margin: auto; color: #0f0;
      word-wrap: break-word;
    }
  </style>
</head>
<body>
  <h1>üïµÔ∏è Dee Encryptor/Decryptor</h1>

  <h3>Encrypt Message</h3>
  <textarea id="message" placeholder="Type your secret message..."></textarea><br>
  <button onclick="encrypt()">Encrypt ‚Üí JPEG</button>

  <h3>Decrypt Message</h3>
  <input type="file" id="fileInput" accept=".jpeg,.jpg"/>
  <button onclick="decrypt()">Decrypt</button>

  <h3>Output</h3>
  <pre id="output">Decrypted message will appear here...</pre>

  <script>
    async function encrypt() {
      let formData = new FormData();
      formData.append("message", document.getElementById("message").value);
      let res = await fetch("/encrypt", { method: "POST", body: formData });
      let blob = await res.blob();
      let url = URL.createObjectURL(blob);
      let a = document.createElement("a");
      a.href = url; a.download = "encrypted.jpeg"; a.click();
    }

    async function decrypt() {
      let file = document.getElementById("fileInput").files[0];
      if (!file) { alert("Select a JPEG file first!"); return; }
      let formData = new FormData();
      formData.append("file", file);
      let res = await fetch("/decrypt", { method: "POST", body: formData });
      let data = await res.json();
      document.getElementById("output").innerText = "Decrypted: " + data.message;
    }
  </script>
</body>
</html>
